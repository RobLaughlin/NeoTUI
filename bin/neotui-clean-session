#!/usr/bin/env bash
set -euo pipefail

if [ "$#" -lt 1 ]; then
  exit 0
fi

session_id="$(printf '%s' "$1" | tr -cd 'A-Za-z0-9_-')"
if [ -z "$session_id" ]; then
  exit 0
fi

root_dir="${NEOTUI_ROOT:-}"
if [ -z "$root_dir" ]; then
  root_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"
fi

rm -rf -- "$root_dir/.local/state/lf/sessions/$session_id"
rm -f -- "$root_dir/.local/data/lf/tags"
